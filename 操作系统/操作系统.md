# 操作系统

为什么学操作系统

## 工具

### objdump

### gcc



### make

```makefile
all: hanoi-r hanoi-nr

hanoi-r: hanoi-main.c hanoi-r.c
        gcc -g -o $@ $^

hanoi-nr: hanoi-main.c hanoi-nr.c
        gcc -g -o $@ $^

clean:
        rm -f hanoi-r hanoi-nr
```

**gpt解释**

这是一个简单的 Makefile 文件，用于构建两个目标可执行文件 `hanoi-r` 和 `hanoi-nr`，以及一个清理目标 `clean`。下面是对文件内容的解释：

1. **all: hanoi-r hanoi-nr**
   - 这一行定义了一个虚拟目标 `all`，它依赖于两个实际目标 `hanoi-r` 和 `hanoi-nr`。当你运行 `make` 或 `make all` 时，会构建这两个实际目标。

2. **hanoi-r: hanoi-main.c hanoi-r.c**
   - 这一行定义了一个实际目标 `hanoi-r`，它依赖于两个源文件 `hanoi-main.c` 和 `hanoi-r.c`。
   - 下一行开始是规则，指示如何构建 `hanoi-r`。`gcc -g -o $@ $^` 使用了一些特殊的变量：
     - `$@` 表示目标的名称，即 `hanoi-r`。
     - `$^` 表示所有的依赖文件，即 `hanoi-main.c` 和 `hanoi-r.c`。
   - 因此，这个规则告诉 `make` 使用 `gcc` 编译器将 `hanoi-main.c` 和 `hanoi-r.c` 编译成一个可执行文件 `hanoi-r`。

3. **hanoi-nr: hanoi-main.c hanoi-nr.c**
   - 类似于前面的 `hanoi-r` 目标，这一行定义了一个实际目标 `hanoi-nr`，依赖于两个源文件 `hanoi-main.c` 和 `hanoi-nr.c`。
   - 后面的规则与 `hanoi-r` 相似，告诉 `make` 如何构建 `hanoi-nr` 目标。

4. **clean:**
   - 这一行定义了一个实际目标 `clean`，它没有任何依赖关系。
   - 规则 `rm -f hanoi-r hanoi-nr` 告诉 `make` 如何执行清理操作。具体地，这个规则使用 `rm` 命令删除 `hanoi-r` 和 `hanoi-nr` 可执行文件。

通过这个 Makefile，你可以通过运行 `make` 来构建所有目标，或者运行 `make hanoi-r` 或 `make hanoi-nr` 来构建特定的目标。同时，运行 `make clean` 可以清理生成的可执行文件。




## 1.2 

C语言`#include`
objdump
readelf
syscall
make
状态机
file
strace 查看gcc ld as的调用